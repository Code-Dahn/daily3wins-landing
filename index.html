<div id="waitlist">
  <h2>Join the Waitlist</h2>
  <p>Be the first to know when Daily 3 Wins launches!</p>

  <form id="bd-form">
    <input type="email" name="email" id="bd-email" placeholder="Enter your email" required>
    <input type="submit" value="Notify Me">
  </form>

  <p id="bd-success" style="display:none; color: green; margin-top: 1em;">
    ðŸŽ‰ Thanks! You're on the list.
  </p>
</div>

<style>
  #bd-form input[type="email"] {
    padding: 0.5em;
    width: 250px;
    margin-right: 0.5em;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  #bd-form input[type="submit"] {
    padding: 0.5em 1em;
    background-color: #0070f3;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  #bd-form input[type="submit"]:hover {
    background-color: #0059c1;
  }
</style>

<script>
  document.getElementById('bd-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    const email = document.getElementById('bd-email').value;

    const res = await fetch('https://buttondown.email/api/emails/embed-subscribe/daily3wins', {
      method: 'POST',
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
      body: `email=${encodeURIComponent(email)}`
    });

    if (res.ok) {
      document.getElementById('bd-form').style.display = 'none';
      document.getElementById('bd-success').style.display = 'block';
    } else {
      alert("Oops! Something went wrong. Try again.");
    }
  });
</script>
